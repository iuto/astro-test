---
const { link, company, job, day, page, explanation, icon } = Astro.props;
---

<li class="mb-10 ml-6">
  <span 
    class={`absolute flex items-center justify-center w-6 h-6 rounded-full -left-3 ring-8 ring-white dark:ring-gray-800 
      ${icon === 'work' ? 'bg-blue-100 dark:bg-blue-900' : 'bg-green-100 dark:bg-green-900'}`}>
    {icon === 'work' ? (
      <svg class="w-2.5 h-2.5 text-blue-800 dark:text-blue-300" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
        <path d="M19.728 10.686c-2.38 2.256-6.153 3.381-9.875 3.381-3.722 0-7.4-1.126-9.571-3.371L0 10.437V18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-7.6l-.272.286Z"/>
        <path d="m.135 7.847 1.542 1.417c3.6 3.712 12.747 3.7 16.635.01L19.605 7.9A.98.98 0 0 1 20 7.652V6a2 2 0 0 0-2-2h-3V3a3 3 0 0 0-3-3H8a3 3 0 0 0-3 3v1H2a2 2 0 0 0-2 2v1.765c.047.024.092.051.135.082ZM10 10.25a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5ZM7 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1H7V3Z"/>
      </svg>
    ) : (
      <svg class="w-3 h-3 text-green-800 dark:text-green-300" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
      </svg>
    )}
  </span>
  <h3 class="flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white sm:text-xl">
    {link ? (
      <a href={link} target="_blank" class="mr-2">{company}</a>
    ) : (
      <span class="mr-2">{company}</span>
    )}
    <span class="text-lg font-medium text-gray-700 dark:text-gray-400">{job}</span>
  </h3> 
  <time class="block mb-2 text-sm font-normal leading-none text-gray-500 dark:text-gray-200 sm:text-base">{day}</time>
  {page && explanation ? (
    <a href={page} target="_blank" class="inline-flex items-center font-medium text-blue-600 dark:text-blue-500 hover:underline">
      {explanation}
      <svg class="w-5 h-5 ms-2 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
      </svg>
    </a>
  ) : null}
</li>
